# 使用Verilog编写设计32位ALU

# 目标:

- 1. 使用Verilog编写设计32位ALU。
- 2. 使用Vivado软件对编写的Verilog文件进行仿真。

## 要求:

- 1. 请不要抄袭,可以与同学讨论,但不要直接抄袭同学的代码和实验报告。
- 2. 请认真完成实验报告,并在你认为关键的位置插入屏幕截图。
- 3. 请在截止日期前将Verilog源代码和实验报告提交至Unicourse+上。

### 说明

#### 1、ALU接口说明

• module alu(A,B,Op,C,Over);

| • | 信号名  | 方向   | 描述                                             |  |
| -- | ------- | ------ | ------------------------------------------------ | - |
|    | A[31:0] | Input  | 第一个运算数,当执行移位指令时,A[4:0]为移位位数。 |  |
|    | B[31:0] | Input  | 第二个运算数。                                   |  |
|    | Op[5:0] | Input  | 运算类型,见下方说明。                            |  |
|    | C[31:0] | Output | ALU计算结果。                                    |  |
|    | Over    | Output | 溢出, 0: 无溢出, 1: 有溢出                       |  |

2、运算类型说明

| • | 指令名`<br>`称 | Op码`<br>`[5:0] | 指令功能             | 补充说明                                                                                    |
| -- | ---------------- | ----------------- | -------------------- | ------------------------------------------------------------------------------------------- |
|    | ADD              | 100000            | 有符号数相`<br>`加 | 使用超前进位加法器,注意根据结果置Over标`<br>`志。                                         |
|    | ADDU             | 100001            | 无符号数相`<br>`加 | 使用超前进位加法器,Over标志恒为0。                                                          |
|    | SUB              | 100010            | 有符号数相`<br>`减 | 使用超前进位加法器,注意根据结果置Over标`<br>`志。                                         |
|    | SUBU             | 100011            | 无符号数相`<br>`减 | 使用超前进位加法器,Over标志恒为0。                                                          |
|    | SLL              | 000000            | 逻辑左移             | A[4:0]为移位位数,在低位补零,Over标志恒为`<br>`0。                                         |
|    | SRL              | 000010            | 逻辑右移             | A[4:0]为移位位数,在高位补零,Over标志恒为`<br>`0。                                         |
|    | SRA              | 000011            | 算术右移             | A[4:0]为移位位数,Over标志恒为0。`<br>`若B操作数最高位为0,则高位补零,否则高位补`<br>`1。 |
|    | AND              | 100100            | 位与                 | Over标志恒为0。                                                                             |
|    | OR               | 100101            | 位或                 | Over标志恒为0。                                                                             |
|    | XOR              | 100110            | 位异或               | Over标志恒为0。                                                                             |
|    | NOR              | 100111            | 位或非               | Over标志恒为0。                                                                             |

#### 3.激励文件(见alu_tb.v)

• 如果结果正确, correct变量应恒为1。可以使用Vivado波形图中的"Find Value"功能快速定位错误 位置。

- 模拟仿真时建议,将所有文件的第一行中自动生成的"`timescale 1ns / 1ps" 改为"`timescale 1ns / 1ns",可以降低内存消耗并加快模拟速度。
- 本次模拟仿真耗时较长,请同学们耐心等待,波形图总长度约2400ns。
